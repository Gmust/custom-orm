{
  "id": "1741794871588_test",
  "name": "test",
  "timestamp": 1741794871588,
  "up": [
    "CREATE TABLE users (\nid  INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\nemail VARCHAR(255) NOT NULL,\nname VARCHAR(255) NOT NULL,\nsettings JSONB NOT NULL DEFAULT '\"{}\"'::jsonb,\ncreated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\nupdated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\nCREATE UNIQUE INDEX users_email_unique ON users(email);",
    "CREATE TABLE posts (\nid  INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\ntitle VARCHAR(255) NOT NULL,\ncontent VARCHAR(255) NOT NULL,\npublished BOOLEAN NOT NULL DEFAULT FALSE,\nuser_id INTEGER NOT NULL,\ncreated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\nupdated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\nALTER TABLE posts ADD CONSTRAINT fk_posts_user_id FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE;",
    "CREATE TABLE comments (\nid  INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\ncontent VARCHAR(255) NOT NULL,\nuser_id INTEGER NOT NULL,\npost_id INTEGER NOT NULL,\ncreated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\nupdated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\nALTER TABLE comments ADD CONSTRAINT fk_comments_user_id FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE;\nALTER TABLE comments ADD CONSTRAINT fk_comments_post_id FOREIGN KEY (post_id) REFERENCES posts(id) ON DELETE CASCADE;",
    "CREATE TABLE categories (\nid  INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\nname VARCHAR(255) NOT NULL,\ncreated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\nupdated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\nCREATE UNIQUE INDEX categories_name_unique ON categories(name);",
    "CREATE TABLE tags (\nid  INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,\nlabel VARCHAR(255) NOT NULL,\ncreated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\nupdated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n);\nCREATE UNIQUE INDEX tags_label_unique ON tags(label);"
  ],
  "down": [
    "DROP TABLE IF EXISTS users;",
    "DROP TABLE IF EXISTS posts;",
    "DROP TABLE IF EXISTS comments;",
    "DROP TABLE IF EXISTS categories;",
    "DROP TABLE IF EXISTS tags;"
  ]
}